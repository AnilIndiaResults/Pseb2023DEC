@model PSEBONLINE.Models.OnDemandCertificates
@{
    ViewBag.Title = "DownloadChallan";
    Layout = "~/Views/Shared/_Header.cshtml";
}
<h1>Download On-Demand Certificate Data</h1>


@using (Html.BeginForm("OnDemandCertificateDownloadData", "OnDemandCertificate", FormMethod.Post, new { id = "searchform" }))
{
    <div class="row">
        <div class="col-md-6" style="font-size:16px">Current Downloaded Lot : @ViewBag.CurrentDownloadedLot &nbsp;|&nbsp; Total Count : @ViewBag.TotalCount </div>
        <div class="col-md-6 text-right">
            @if (ViewBag.TotalCount > 0)
            {
                <input type="Submit" value="Export To Excel" name="cmd" />
                @*<input type="button" value="Export To Excel" onclick="javascript:document.location.href='@Url.Action("ExportData", "OnDemandCertificate", new { File = "Excel" })'" />*@
                <input type="button" value="Back" onclick="javascript:document.location.href='@Url.Action("Welcome", "OnDemandCertificates", new { File = "Back" })    '" />
            }
        </div>
    </div>
}

    <div class="clearfix"></div>
    <div class="row">
        <div class="col-md-12">
            <div class="table-responsive">
                <table class="table table-bordered" id="t01">
                    <tr class="active-tr">
                        <th>S.No</th>
                        <th>Class</th>
                        <th>Schl</th>
                        <th>Dist</th>
                        <th>CandId</th>
                        <th>Roll</th>
                        <th>Regno</th>
                        <th>Name</th>
                        <th>FName</th>
                        <th>MName</th>
                        <th>DOB</th>
                        <th>Challanid</th>
                        <th>Challandt</th>
                        <th>(FEE+L.Fee)=Total</th>
                        @* <th>SubmitOn</th>
                            @*<th>RegistryNumber</th>
                            <th>Status</th>*@
                    </tr>
                    @{
                        if (ViewBag.TotalCount > 0)
                        {
                            for (int i = 0; i < Model.StoreAllData.Tables[0].Rows.Count; i++)
                            {

                                var SCHL = Model.StoreAllData.Tables[0].Rows[i]["SCHL"].ToString();
                                var cls = Model.StoreAllData.Tables[0].Rows[i]["Class"].ToString();
                                var Std_id = Model.StoreAllData.Tables[0].Rows[i]["Std_id"].ToString();
                                var roll = Model.StoreAllData.Tables[0].Rows[i]["roll"].ToString();
                                var regno = Model.StoreAllData.Tables[0].Rows[i]["regno"].ToString();
                                var form = Model.StoreAllData.Tables[0].Rows[i]["form"].ToString();
                                var Dist = Model.StoreAllData.Tables[0].Rows[i]["Dist"].ToString();
                                var Rp = Model.StoreAllData.Tables[0].Rows[i]["Rp"].ToString();
                                var EXAM = Model.StoreAllData.Tables[0].Rows[i]["EXAM"].ToString();
                                var Category = Model.StoreAllData.Tables[0].Rows[i]["Category"].ToString();
                                var name = Model.StoreAllData.Tables[0].Rows[i]["name"].ToString();
                                var fname = Model.StoreAllData.Tables[0].Rows[i]["fname"].ToString();
                                var mname = Model.StoreAllData.Tables[0].Rows[i]["mname"].ToString();
                                var Aadhar = Model.StoreAllData.Tables[0].Rows[i]["Aadhar"].ToString();
                                var phy_chal = Model.StoreAllData.Tables[0].Rows[i]["phy_chal"].ToString();
                                var Caste = Model.StoreAllData.Tables[0].Rows[i]["Caste"].ToString();
                                var Gender = Model.StoreAllData.Tables[0].Rows[i]["Gender"].ToString();
                                var DOB = Model.StoreAllData.Tables[0].Rows[i]["DOB"].ToString();
                                var DemandId = Model.StoreAllData.Tables[0].Rows[i]["DemandId"].ToString();
                                var Challanid = Model.StoreAllData.Tables[0].Rows[i]["Challanid"].ToString();
                                var Challandt = Model.StoreAllData.Tables[0].Rows[i]["Challandt"].ToString();
                                var ChallanVerify = Model.StoreAllData.Tables[0].Rows[i]["ChallanVerify"].ToString();
                                var Fee = Model.StoreAllData.Tables[0].Rows[i]["Fee"].ToString();
                                var LateFee = Model.StoreAllData.Tables[0].Rows[i]["LateFee"].ToString();
                                var TotalFee = Model.StoreAllData.Tables[0].Rows[i]["TotalFee"].ToString();
                                var IsPrinted = Model.StoreAllData.Tables[0].Rows[i]["IsPrinted"].ToString();
                                var SubmitOn = Model.StoreAllData.Tables[0].Rows[i]["SubmitOn"].ToString();

                                var RegistryNumber = Model.StoreAllData.Tables[0].Rows[i]["RegistryNumber"].ToString();
                                var Status = Model.StoreAllData.Tables[0].Rows[i]["Status"].ToString();



                                int Count = i + 1;
                                <tr>
                                    <td>@Count</td>
                                    <td>@cls</td>
                                    <td>@SCHL</td>
                                    <td>@Dist</td>
                                    <td>@Std_id</td>
                                    <td>@roll</td>
                                    <td>@regno</td>

                                    <td>@name</td>
                                    <td>@fname</td>
                                    <td>@mname</td>
                                    <td>@DOB</td>
                                    <td>@Challanid</td>
                                    <td>@Challandt</td>
                                    <td>@Fee + @LateFee = @TotalFee</td>
                                    @*<td>@SubmitOn</td>
                                        @*<td>@RegistryNumber</td>
                                        <td>@Status</td>*@
                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="8">
                                    @ViewBag.Message
                                </td>
                            </tr>
                        }
                    }
                </table>
            </div>
        </div>
    </div>

