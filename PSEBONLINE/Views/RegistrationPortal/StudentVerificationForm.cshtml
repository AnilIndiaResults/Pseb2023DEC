@model PSEBONLINE.Models.RegistrationModels
@{
    ViewBag.Title = "StudentVerificationForm";
    Layout = "~/Views/Shared/_Card_Header.cshtml";
}
<link rel="stylesheet" href="https://registration2022.pseb.ac.in/Content/Print-4L-SRR.css" />
<style type="text/css">
    body {
        font-size: 12px
    }
</style>

<h1 class="noprint">
    Student Verification Form : Session 2023-2024
</h1>

@using (Html.BeginForm("StudentVerificationForm", "RegistrationPortal", FormMethod.Post, new { id = "searchform" }))
{
   
<div class="row">
    <div class="col-md-12 noprint">
        <fieldset style="margin-bottom:15px">
            <legend>Search</legend>
            <div class="col-md-3">
                Search By:  @Html.DropDownList("SelList", new SelectList(ViewBag.MySch, "Value", "Text", ViewBag.SelectedItem), "--Select---", new { @class = "", id = "SelectItem" })
                <span id="reqsession" style="color:red;display:none;">Select One</span>
            </div>
            <div class="col-md-7">
                &nbsp;<br />
                <input type="text" id="SearchString" name="SearchString" value="@Request[" SearchString"]" />
            </div>
            <div class="col-md-2">&nbsp;<br /><input type="submit" value="Search" name="cmd" onclick="return valForm();" title="Search Record" /></div>
            <div class="clearfix"></div>
            <div class="col-md-12 rqf" style="font-size:13px">Note : Kindly select search criteria & then click search button to show records.</div>
        </fieldset>
    </div>
    <div class="clearfix"></div>
    <div class="col-md-12 text-right noprint">
        <input type="button" value="Print" class="btn" onclick="window.print()" />
        <input type="button" value="Back" class="btn" onclick="history.go(-1);" />
    </div>
    <div class="clearfix"></div>
    <div class="col-md-12">
        <table style="width:100%;" border="0">
            @{
            if (ViewBag.TotalCount > 0)
            {
            int Count = 0;
            for (int i = 0; i < Model.StoreAllData.Tables[0].Rows.Count; i++)
            {
            var form_Name = Model.StoreAllData.Tables[0].Rows[i]["form_Name"].ToString();
            var cls = Model.StoreAllData.Tables[0].Rows[i]["Class"].ToString();
            var SCHl = Model.StoreAllData.Tables[0].Rows[i]["SCHL"].ToString();
            var SCHlName = Model.StoreAllData.Tables[0].Rows[i]["SCHLE"].ToString();
            var REGNO = Model.StoreAllData.Tables[0].Rows[i]["Registration_Num"].ToString();
            var stdid = Model.StoreAllData.Tables[0].Rows[i]["std_id"].ToString();
            var Cname = Model.StoreAllData.Tables[0].Rows[i]["Candi_Name"].ToString();
            var CnameP = Model.StoreAllData.Tables[0].Rows[i]["Candi_Name_P"].ToString();
            var Fname = Model.StoreAllData.Tables[0].Rows[i]["Father_Name"].ToString();
            var FnameP = Model.StoreAllData.Tables[0].Rows[i]["Father_Name_P"].ToString();
            var Mname = Model.StoreAllData.Tables[0].Rows[i]["Mother_Name"].ToString();
            var MnameP = Model.StoreAllData.Tables[0].Rows[i]["Mother_Name_P"].ToString();
            var DOB = Model.StoreAllData.Tables[0].Rows[i]["DOB"].ToString();
            var LOT = Model.StoreAllData.Tables[0].Rows[i]["LOT"].ToString();
            var GEN = Model.StoreAllData.Tables[0].Rows[i]["gender"].ToString();
            var reli = Model.StoreAllData.Tables[0].Rows[i]["Religion"].ToString();
            var caste = Model.StoreAllData.Tables[0].Rows[i]["Caste"].ToString();

            var address = Model.StoreAllData.Tables[0].Rows[i]["Address"].ToString();
            var mob = Model.StoreAllData.Tables[0].Rows[i]["Mobile"].ToString();
            var aadhar = Model.StoreAllData.Tables[0].Rows[i]["Aadhar_num"].ToString();
            var StdPhoto = Model.StoreAllData.Tables[0].Rows[i]["CandPhoto"].ToString();
            var stdSign = Model.StoreAllData.Tables[0].Rows[i]["CandSign"].ToString();



            var Roll = Model.StoreAllData.Tables[0].Rows[i]["Class_Roll_Num_Section"].ToString();
            var sec = Model.StoreAllData.Tables[0].Rows[i]["Section"].ToString();
            var EpunjabStdid = Model.StoreAllData.Tables[0].Rows[i]["E_punjab_Std_id"].ToString();
            var PrevClassInfo = Model.StoreAllData.Tables[0].Rows[i]["PreviousClassInformation"].ToString();
            var PCI = PrevClassInfo.Replace("/", ":");
            var DA = Model.StoreAllData.Tables[0].Rows[i]["Differently_Abled"].ToString();
            var DP = Model.StoreAllData.Tables[0].Rows[i]["DP"].ToString();
            var WW = Model.StoreAllData.Tables[0].Rows[i]["wantwriter"].ToString();
            var stydyMedium = Model.StoreAllData.Tables[0].Rows[i]["CandStudyMedium"].ToString();
            var NSQF = Model.StoreAllData.Tables[0].Rows[i]["NSQF_SUB"].ToString();

            var GroupName = Model.StoreAllData.Tables[0].Rows[i]["GroupName"].ToString();
            var Sublist = Model.StoreAllData.Tables[0].Rows[i]["SubjectList"].ToString();
                        //
            var IsNRICandidate = Model.StoreAllData.Tables[0].Rows[i]["IsNRICandidate"].ToString();
            var IsBPL = Model.StoreAllData.Tables[0].Rows[i]["IsBPL"].ToString();
            var IsProvisional = Model.StoreAllData.Tables[0].Rows[i]["IsProvisional"].ToString();
			//
			        var CandPhotoFullPath = Model.StoreAllData.Tables[0].Rows[i]["CandPhotoFullPath"].ToString();
                        var CandSignFullPath = Model.StoreAllData.Tables[0].Rows[i]["CandSignFullPath"].ToString();

            Count = i + 1;
                        <table width="100%" border="0">
                            <tr>
                                <td colspan="7" style="font-size:14px;text-align:center;line-height:20px;vertical-align:top;border-bottom:2px solid #000 !important">
                                    <span style="font-size:28px">PUNJAB SCHOOL EDUCATION BOARD</span>
                                    <br />
                                    <span>
                                        Student's Details Verification Form for Parents/Guardian (For School Records only) Session @if (Session["Session"] != null)
                                        {@Session["Session"].ToString()}
                                    else { Response.Redirect("~/Login"); }<br />(This is Rough Report For Checking Only)
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td>School Code/Name</td>
                                <td colspan="5">&nbsp;@SCHl : @SCHlName</td>
                                <td width="10%" rowspan="5">
								@if (Session["FormName"].ToString() != "" )
                                {
                                    // string path = "../../upload/Upload2023/" + @StdPhoto;
                                    string path = @CandPhotoFullPath.Contains("https://psebdata.s3.ap-south-1.amazonaws.com") ? @CandPhotoFullPath : "https://psebdata.s3.ap-south-1.amazonaws.com/" + @CandPhotoFullPath;
                                        <img src="@path" style="background-color:#000 !important;padding:1px !important" alt="Photo" height="80px" width="80px" />
                                    }
                            </tr>
                            <tr>
                                <td width="17%">Class</td>
                                <td width="15%">@cls (@form_Name)</td>
                                <td width="15%">@*Class*@Roll No./ Section</td>
                                <td width="13%">@Roll / @sec</td>
                                <td width="17%">E-Punjab Student ID</td>
                                <td width="13%">@EpunjabStdid</td>
                            </tr>
                            <tr>
                                <td>Registration No.</td>
                                <td>@REGNO</td>
                                <td>Aadhar No.</td>
                                <td>@aadhar</td>
                                <td>Student's Unique ID</td>
                                <td>@stdid</td>
                            </tr>
                            <tr>
                                <td style="vertical-align:top">Old Class Details</td>
                                <td colspan="5" style="vertical-align:top;height:40px">@PCI</td>
                            </tr>
                            <tr>
                                <td>Candidate Name</td>
                                <td colspan="5">@Cname / <span class="kdsfont"> @CnameP</span></td>
                            </tr>
                            <tr>
                                <td>Father's Name</td>
                                <td colspan="5">@Fname / <span class="kdsfont"> @FnameP</span></td>
                                <td rowspan="2">
								@if (Session["FormName"].ToString() != "" )
                                {
                                    //  string pathSign = "../../upload/Upload2023/" + @stdSign;
                                    string pathSign = @CandSignFullPath.Contains("https://psebdata.s3.ap-south-1.amazonaws.com") ? @CandSignFullPath : "https://psebdata.s3.ap-south-1.amazonaws.com/" + @CandSignFullPath;
                                        <img src="@pathSign" alt="Signature" style="background-color:#000 !important;padding:1px !important;height:35px !important;width:80px !important" alt="Signature" height="35px" width="80px" />
                                    }

                                </td>
                            </tr>
                            <tr>
                                <td>Mother's Name</td>
                                <td colspan="5">@Mname / <span class="kdsfont"> @MnameP</span></td>
                            </tr>
                            <tr>
                                <td>Date of Birth</td>
                                <td colspan="2">
                                    @if (@Session["FormName"].ToString() == "" || @Session["FormName"].ToString() == "")
                                    {
                                    }
                                    else
                                    {
                                        @DOB
                                    }
                                </td>
                                <td>Gender</td>
                                <td>@GEN</td>
                                <td>Cast</td>
                                <td>@caste</td>
                            </tr>
                            <tr>
                                <td>Differently Abled </td>
                                <td colspan="2">@DA (@DP%)</td>
                                <td>Religion</td>
                                <td>@reli</td>
                                <td>Mobile No.</td>
                                <td>@mob</td>
                            </tr>
                            <tr>
                                <td colspan="3">Is Provisional Admission? : @IsProvisional</td>                                
                                <td colspan="2">Is NRI Candidate? : @IsNRICandidate</td>
								<td colspan="2">Belongs to B.P.L? : @IsBPL</td>                                
                            </tr>
                            <tr>
                                <td>Medium of Study </td>
                                <td colspan="2">@stydyMedium</td>
                                <td>NSQF Subject</td>
                                <td colspan="3">@NSQF</td>
                            </tr>
                            <tr>
                                <td style="vertical-align:top">Address</td>
                                <td colspan="6" style="vertical-align:top;height:35px">@address</td>
                            </tr>
                            @if (@Session["FormName"].ToString() == "N1" || @Session["FormName"].ToString() == "N2" || @Session["FormName"].ToString() == "N3")
                            {
                                <tr>
                                    <td>Group</td>
                                    <td colspan="6">@GroupName </td>
                                </tr>
                            }
                            else
                            {
                                <tr>
                                    <td>Group/Subject List</td>
                                    <td colspan="6">@GroupName / @Sublist</td>
                                </tr>
                            }
                            <tr>
                                <td colspan="7">
                                    <b>Declaration</b> : <b>I</b> ................................................................... the ...................................................................(Relation with candidate) of <b>@Cname</b> that the above candidate's particular & other information is checked by me and found correct as per my knowledge . <span class="kdsfont">Ìè× ¦ÝóÆÏ ÚÂó¼ãã ÆñÛÚª¤ØÏÁÛ Âã ÓØÏã ÒãÏÒã °èó¨ ¨Ï Ð¥ã ÕÅ ¤¼ã Ú¥Õ ÌãÏÛ ²Ø»¨ØÏÛ/ÓÌ´ ÌÝ¼ØÉ¨ ÚÉÐ¨ÝóÐ ÓÕÛ ÕÅ¢</span>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="vertical-align:top"><br />Date :@DateTime.Now.ToString("dd/MM/yyyy")</td>
                                <td colspan="5" style="padding-bottom:45px;vertical-align:top">
                                    <br /><span style="float:left">Signature Of Candidate</span>
                                    <span style="float:right">Signature Of the Parent/Guardian</span>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="7" style="border-top:2px dashed #000 !important;height:36px"></td>
                            </tr>
                        </table>





            }
            }
            else
            {
            <tr>
                <td colspan="7">
                    @ViewBag.Message
                </td>
            </tr>
            }
            }

        </table>
    </div>
</div>
            }
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
            @*<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">*@
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script src="~/Scripts/jquery-1.10.2.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $("#SelectItem").change(function () {
            var value = document.getElementById('SelectItem').value;
            $('#SearchString').val('');
            //alert(value);
            if (value == "") {
                // $("#reqsession").slideUp("slow");
                //("#reqsession").slideDown("slow");
                alert("Please Select One");
                return false;
            }
            else if (value == 1) {
                $("#SearchString").datepicker("disable");
                document.getElementById('SearchString').disabled = true;

            }
            else if (value == 3 || value == 4 || value == 5 || value == 6) {
                $("#SearchString").datepicker("disable");
                document.getElementById('SearchString').disabled = false;
                $("#SearchString").off('keypress');
                $("#SearchString").keypress(function (evt) {
                    var keyCode = (evt.which) ? evt.which : evt.keyCode
                    if ((keyCode < 65 || keyCode > 90) && (keyCode < 97 || keyCode > 123) && keyCode != 32) {
                        alert("Only Characters Allowed!!");
                        return false;
                    }
                    else {
                        return true;
                    }

                });
            }

            else {
                $("#SearchString").datepicker("disable");
                document.getElementById('SearchString').disabled = false;
                $("#SearchString").off('keypress');
            }

        });
    });
</script>
