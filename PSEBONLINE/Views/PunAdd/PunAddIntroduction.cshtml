@model PSEBONLINE.Models.PunAddModels
@{
    Layout = "~/Views/Shared/_Login_Header.cshtml";
}
<div class="container KDBG">
    @*<h1>Matric Exam For Punjabi Additional, April-2021</h1>*@
    @*<h1>Matric Exam For Punjabi Additional, July-2021</h1>*@
    <h1>Matric Exam For Punjabi Additional, October-2021</h1>
    @*<h1>Matric Exam For Punjabi Additional, January-2021</h1>*@
    <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
@using (Html.BeginForm("PunAddIntroduction", "PunAdd", FormMethod.Post, new { id = "refno", enctype = "multipart/form-data" }))
{
<form name="myForm">
    <div class="row text-center"><h3>&nbsp;&nbsp; Candidate Registration Form</h3></div>
    <div class="row">
          
        <div class="clearfix"></div>
        <div class="col-md-2">Batch Month/Year <span class="rqf">*</span></div>
        <div class="col-md-2">
            @{
                List<SelectListItem> batch = new List<SelectListItem>();
                //batch.Add(new SelectListItem { Text = "---Month--- ", Value = "" });
                //batch.Add(new SelectListItem { Text = "April", Value = "1" });
                //batch.Add(new SelectListItem { Text = "July", Value = "2" });
                batch.Add(new SelectListItem { Text = "October", Value = "3" });
              // batch.Add(new SelectListItem { Text = "January", Value = "4" });
            }
            @Html.DropDownList("batch", batch, new { id = "batch" })
        </div>        
        <div class="col-md-2">
            @{
                List<SelectListItem> batchYear = new List<SelectListItem>();
                batchYear.Add(new SelectListItem { Text = "2021", Value = "2021" });
            }
            @Html.DropDownList("batchYear", batchYear, new { id = "batchYear" })
        </div>
        
        <div class="clearfix"></div>
        <div class="col-md-2">Category <span class="rqf">*</span></div>
        <div class="col-md-4">
            @{
                List<SelectListItem> category = new List<SelectListItem>();                
                category.Add(new SelectListItem { Text = "Punjabi Additional", Value = "A" });
            }
            @Html.DropDownList("category", category, new { id = "category" })
        </div>    
        <div class="clearfix"></div>
        <div class="col-md-2">Class <span class="rqf">*</span></div>
        <div class="col-md-4">
          
            @{
                List<SelectListItem> Class = new List<SelectListItem>();
                //Class.Add(new SelectListItem { Text = "--Select--", Value = "0" });
                Class.Add(new SelectListItem { Text = "Matriculation", Value = "10" });                
            }
            @Html.DropDownList("Class", Class, new { id = "Class" })
        </div>
        <div class="clearfix"></div>        
        <div class="col-md-2">Exam Type <span class="rqf">*</span></div>
        <div class="col-md-4">
            @{
                List<SelectListItem> Exam_Type = new List<SelectListItem>();
                //Exam_Type.Add(new SelectListItem { Text = "--Select--", Value = "0" });                
                Exam_Type.Add(new SelectListItem { Text = "Private", Value = "P" });
            }
            @Html.DropDownList("Exam_Type", Exam_Type, new { id = "Exam_Type" })
        </div>
        
        <div class="clearfix"></div>
        <div class="col-md-2">Matric Board <span class="rqf">*</span></div>
        <div class="col-md-4">
            @{
                List<SelectListItem> Board = new List<SelectListItem>();
                Board.Add(new SelectListItem { Text = "---Select Board--", Value = "0" });
                Board.Add(new SelectListItem { Text = "CBSE BOARD", Value = "CBSE BOARD" });
                Board.Add(new SelectListItem { Text = "P.S.E.B BOARD", Value = "P.S.E.B BOARD" });
                Board.Add(new SelectListItem { Text = "I.C.S.E BOARD", Value = "ICSE BOARD" });
                Board.Add(new SelectListItem { Text = "HARYANA BOARD", Value = "HARYANA BOARD" });
                Board.Add(new SelectListItem { Text = "HIMACHAL BOARD", Value = "HIMACHAL BOARD" });
                Board.Add(new SelectListItem { Text = "J&K BOARD", Value = "J&K BOARD" });
                Board.Add(new SelectListItem { Text = "RAJASTHAN BOARD", Value = "RAJASTHAN BOARD" });
                Board.Add(new SelectListItem { Text = "OTHER BOARD", Value = "OTHER BOARD" });
            }
            @Html.DropDownList("Board", Board, new { id = "Board" })
        </div>        
        <div class="col-md-4">@Html.TextBoxFor(m => m.Other_Board, new { id = "Other_Board", @maxlength = "150", placeholder = "Enter Other Board Name" })</div>
         
        <div class="clearfix"></div>
        <div class="col-md-2">Matric Session <span class="rqf">*</span></div>
        <div class="col-md-4">
            <div class="row">                
                <div class="col-md-6">@Html.DropDownList("SelMonth", new SelectList(ViewBag.MyMonth, "Value", "Text"), "MONTH", new { @class = "" })</div>
                <div class="col-md-6">@Html.DropDownList("SelYear", new SelectList(ViewBag.MyYear, "Value", "Text"), "YEAR", new { @class = "" })</div>
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="col-md-2">Result/ Marks <span class="rqf">*</span></div>
        <div class="col-md-2">
            @{
                List<SelectListItem> result = new List<SelectListItem>();
                result.Add(new SelectListItem { Text = "PASS", Value = "PASS" });
            }
            @Html.DropDownList("result", result, new { id = "result" })
        </div>        
        <div class="col-md-2">@Html.TextBoxFor(a => a.MatricMarks, new { id = "MatricMarks", @maxlength = "5" })</div>
        <div class="clearfix"></div>
        <div class="col-md-2">Matric Pass Roll No. <span class="rqf">*</span></div>
        <div class="col-md-4">@Html.TextBoxFor(a => a.OROLL, new { id = "OROLL", @maxlength = "25"})</div>
        <div class="clearfix"></div>
        <div class="col-md-2">Email ID <span class="rqf">*</span></div>
        <div class="col-md-4">@Html.TextBoxFor(a => a.emailID, new { @maxlength = "100" ,title="Enter Candidate's Personal/relative's Email ID."})</div>
        <div class="clearfix"></div>
        <div class="col-md-2">Mobile No. <span class="rqf">*</span></div>
        <div class="col-md-4">@Html.TextBoxFor(a => a.mobileNo, new { id = "mobileNo", @maxlength = "10", title = "Enter Candidate's Personal/relative's Mobile No." })</div>
        <div class="clearfix"></div>
        @*<div class="col-md-2">Capcha <span class="rqf">*</span></div>*@
        @*<div class="col-md-4">@Html.TextBoxFor(a => a.capcha, new { @class = "form-control" }) </div>*@        
         @*<div class="col-md-1"><img src="~/Views/PrivateCandidate/Capcha.cshtml" /></div>
        <div class="col-md-3">@Html.TextBoxFor(a => a.capcha)</div>*@
        <div class="clearfix"></div>
        <div class="col-md-12"><span class="rqf">NOTE : Kindly Enter Only Candidate or Candidate's Relative Personal Email Id And Mobile No For Further Communication With Candidate By Board.</span></div>
        <div class="clearfix"></div>
        <div class="col-md-6"><span class="rqf">* Fields are mandatory.</span></div>
<div class="clearfix"></div>
<div class="col-md-2"></div>
        <div class="col-md-4 tbp text-center">
        <input value="Register" type="submit" onclick="return valForm();" /> 
            <input value="Reset" type="button" onclick="return valReset();" /> 
            <input value="Login" type="button" onclick="return valLogin();" /> 
            <input value="Home" type="button" onclick="return valHome();" /> 
        @*<input value="Reset" type="submit" />*@
        </div>
    </div>
</form>
}
</div>

@{

    if (ViewData["Status"] != null)
    {
        var result = ViewData["Status"].ToString();

        if (result == "1")
        {
            <script type="text/javascript" language="javascript">

                var refno = @TempData["refno"].ToString();
                var roll = @TempData["roll"].ToString();
                alert("You are successfully registred Punjabi Additional Form, your refrence no. " + refno + " is generated against old roll no. " + roll + ", Keep this for further use till result declaration.");
               // alert("You are successfully registred for Class  March 2017 and your refrence no. " + refno + " is generated against old roll no. " + roll + ", Keep this for further use till result declaration.");
                document.location.href = '@Url.Action("PunAddConfirmation/" + ViewData["refno"], "PunAdd")';
            </script>
        }

        if (result == "2")
        {

            <script type="text/javascript" language="javascript">

                alert("Refrence No. Already Generated. Kindly Check your Email and Mobile No. : ");
            document.location.href = '@Url.Action("PunAddConfirmation/" + ViewData["roll"], "PunAdd")';
            </script>
        }
        if (result == "0")
        {

            <script type="text/javascript" language="javascript">

                alert("Refrence No. Not Generated. Retry Again ");
            document.location.href = '@Url.Action("PunAddExamination", "PunAdd")';
            </script>
        }
    }

}
<script type="text/javascript" >
    $(document).ready(function () {       
        $('#Other_Board').hide();
    });


    $("#Board").change(function () {
        var selectedVal = $("#Board").val();
        if (selectedVal == "OTHER BOARD") {            
            $('#Other_Board').show();            
        }
        else {                        
            $('#Other_Board').hide();
        }


    });
    
    $("#category").change(function () {       
        var selectedCATE = { CATE: $("#category").val() };     
        //alert(selectedCATE)
        //if ($("#category").val() == 'R') {
        //    document.getElementById('OROLL').title = 'Enter Selected Class last Re-Appear/Compartment Roll No.';
        //    $("#Exam_Type").empty();
        //    $("#Exam_Type").append('<option value="0">--Select--</option>');
        //    $("#Exam_Type").append('<option value="R">Regular</option>');
        //    $("#Exam_Type").append('<option value="O">Open</option>');
        //}
        //else if ($("#category").val() == 'D'){
        //    document.getElementById('OROLL').title = 'Enter Selected Class Passed Roll No.';
        //    $("#Exam_Type").empty();
        //    $("#Exam_Type").append('<option value="0">--Select--</option>');
        //    $("#Exam_Type").append('<option value="P">Private</option>');            
        //}
        //else if ($("#category").val() == 'A') {            
        //    document.getElementById('OROLL').title = 'Enter Selected Class Passed Roll No.';
        //    $("#Exam_Type").empty();
        //    $("#Exam_Type").append('<option value="0">--Select--</option>');
        //    $("#Exam_Type").append('<option value="P">Private</option>');  
        //}       

        $.ajax({
            url: '@Url.Action("GetMonthID", "PunAdd")',
            type: 'Post',
            contentType: 'application/json',
            dataType: 'json',
            data: JSON.stringify(selectedCATE),
            success: function (States) {
               
                //alert(StatesList);
                //document.getElementById("Address").value = StatesList;
                // $("#SelYear").empty();
                $("#SelMonth").empty();
                $("#SelMonth").append('<option value="0">Month</option>');
                $.each(States, function (i, Monthlist) {
                    $("#SelMonth").append('<option value="'
                       + Monthlist.Value + '">'
                       + Monthlist.Text + '</option>');
                });
                if (Monthlist.success) {

                    //document.getElementById("MName").value = data.result;
                    // $("#TextBoxID").val(data.result.MName);
                }
                else {
                    alert('invalid ID' + data.success);
                }
            }
        });
        
        $.ajax({
            url: '@Url.Action("GetYearID", "PunAdd")',
            type: 'Post',
            contentType: 'application/json',
            dataType: 'json',
            data: JSON.stringify(selectedCATE),
            success: function (States) {
               
                //alert(StatesList);
                //document.getElementById("Address").value = StatesList;
                $("#SelYear").empty();
               // $("#SelMonth").empty();
                $("#SelYear").append('<option value="0">Year</option>');

                $.each(States, function (i, yearlist) {
                    
                    $("#SelYear").append('<option value="'
                       + yearlist.Value + '">'
                       + yearlist.Text + '</option>');
                });
                if (yearlist.success) {

                    //document.getElementById("MName").value = data.result;
                    // $("#TextBoxID").val(data.result.MName);
                }
                else {
                    alert('invalid ID' + data.success);
                }
            }
        });

       
    });
    //------------------------------------------------
    function valForm() {

        var txtbatch = document.getElementById("batch");
        if (txtbatch.value == "" || txtbatch.value == "0") {
            alert("Select batch Month");
            txtbatch.focus();
            return false;
        }
        var txtBoard = document.getElementById("Board");
        var Other_Board = document.getElementById("Other_Board");
        
        if (txtBoard.value == "" || txtBoard.value == "0") {
            alert("Select Board.");
            txtBoard.focus();
            return false;
        }        
        if (txtBoard.value == "OTHER BOARD" && Other_Board.value=="") {
            alert("Enter Other Board Name.");
            Other_Board.focus();
            return false;
        }
        
        
        //var ddlcategory = document.getElementById('category').value;        
        //if (ddlcategory == '0') {
        //    alert("Select category");
        //    document.getElementById('category').focus();
        //    return false;
        //}
        //var ddlClass = document.getElementById('Class').value;        
        //if (ddlClass == '0') {
        //    alert("Select Class");
        //    document.getElementById('Class').focus();
        //    return false;
        //}
        //var ddlExam_Type = document.getElementById('Exam_Type').value;
        
        //if (ddlExam_Type == '0') {
        //    alert("Select Exam Type");
        //    document.getElementById('Exam_Type').focus();
        //    return false;
        //}
        var ddlSelMonth = document.getElementById("SelMonth").value;        
        if (ddlSelMonth == "" || ddlSelMonth == "0") {
            alert("Select Month");
            document.getElementById("SelMonth").focus();
            return false;
        }


        var ddlSelYear = document.getElementById("SelYear").value;        
        if (ddlSelYear == ""|| ddlSelYear == "0") {
            alert("Select Year");
            document.getElementById("SelYear").focus();
            return false;
        }
        var txtMatricMarks = document.getElementById("MatricMarks").value;        
        if (txtMatricMarks == "" || txtMatricMarks == "0") {
            alert("Enter Matric Marks");
            document.getElementById("MatricMarks").focus();
            return false;
        }
        


        //var txtClass = document.getElementById('Class').value;        
        //if (txtClass == '0') {
        //    alert("Select Class");
        //    document.getElementById('Class').focus();
        //    return false;
        //}



        
        

        var txtOROLL = document.getElementById("OROLL");
        if (txtOROLL.value == "" || txtOROLL.value.length > 25) {
            alert("Enter valid Matric Pass Roll Number");
            txtOROLL.focus();
            return false;
        }

        if (!ValidateEmail($("#emailID").val())) {
            alert("Enter valid Email Address");
            document.getElementById("emailID").focus();
            return false;
        }

        var txtmobileNo = document.getElementById("mobileNo");
        if (txtmobileNo.value == "" || txtmobileNo.value.length != 10) {
            alert("Enter valid Mobile Number");
            txtmobileNo.focus();
            return false;
        }

       
    }

    function ValidateEmail(emailID) {
        var expr = /[A-Z0-9._%+-]@@[A-Z0-9.-]+\.[A-Z]{2,4}/igm;;
        return expr.test(emailID);
    }

    //function valEmail()
    //{
    //    if (!ValidateEmail($("#emailID").val())) {
    //        alert("Enter valid Email Address!");
    //        document.getElementById('emailID').focus();
    //        return false;
    //    }
    //}

    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode
        if ((charCode >= 48 && charCode <= 57) || (charCode == 8) || (charCode == 46)) {
            return true;
        }
        else {
            alert("Invalid character...Enter Only Number!!");
            return false;
        }
    }
    function valBack() {
        history.go(-1);
    }
    function valReset() {
        document.location.href = '@Url.Action("PunAddIntroduction", "PunAdd")';        
    }
    function valLogin() {
        document.location.href = '@Url.Action("PunAddExamination", "PunAdd")';
    }
    function valHome() {
        document.location.href = '@Url.Action("PunAddExamination", "PunAdd")';
        //document.location.href = 'https://www.pseb.ac.in/';
    }
</script>



